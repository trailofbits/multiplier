#
# Copyright (c) 2021-present, Trail of Bits, Inc.
# All rights reserved.
#
# This source code is licensed in accordance with the terms specified in
# the LICENSE file found in the root directory of this source tree.
#

@PACKAGE_INIT@

set(MX_ENABLE_WEGGLI @MX_ENABLE_WEGGLI@)

set(MX_ENABLE_RE2 @MX_ENABLE_RE2@)

if(NOT TARGET @PROJECT_NAME@::mx-api)
  if(NOT TARGET Threads::Threads)
    find_package(Threads REQUIRED)
  endif()

  if(NOT TARGET CapnProto::cpnp-rpc)
    find_package(CapnProto CONFIG REQUIRED)
  endif()

  if(NOT TARGET ZLIB::ZLIB)
    find_package(ZLIB REQUIRED)
  endif()

  if(MX_ENABLE_RE2 AND NOT TARGET re2::re2)
    find_package(re2 CONFIG REQUIRED)
  endif()

  if(NOT TARGET glog::glog)
    find_package(glog REQUIRED)
  endif()

  if(NOT TARGET SQLite3::SQLite)
    find_package(SQLite3 3.35 REQUIRED)
  endif()

  if(NOT TARGET gap::gap)
    find_package(gap CONFIG REQUIRED)
  endif()

  if(MX_ENABLE_WEGGLI AND NOT TARGET weggli_native::static)
    find_package(weggli_native CONFIG REQUIRED)
  endif()

  include("${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@Targets.cmake")
  check_required_components("@PROJECT_NAME@")
endif()
